backend = 'OPENCL';
backendflag = ['-DAURA_BACKEND_', backend];

[pathstr,name,ext] = fileparts(mfilename('fullpath'));
if ~isempty(pathstr)
    pathstr = [pathstr, '/'];
end

% build mex file
mex(backendflag, ' ', ...
    'CXXFLAGS=$CXXFLAGS -fPIC -std=c++0x -Wall', ...
    '-I/usr/local/boost/include', ...
    ['-I', pathstr, '../../include'], ...
    '-I/usr/local/cuda/include', ...
    '-L/usr/local/cuda/lib64', ...
    '-lOpenCL', ...
    '-DAURA_BACKEND_COMPILE_FLAG=\"-I/home/sschaet/aura/include/ -DAURA_BACKEND_OPENCL\"', ...
    'mexexample.cpp')

